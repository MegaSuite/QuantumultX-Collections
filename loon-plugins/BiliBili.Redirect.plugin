#!name = ğŸ“º BiliBili: ğŸ”€ Redirect
#!desc = å“”å“©å“”å“©ï¼šé‡å®šå‘\nä¸­å›½ç«™CDNè‡ªå®šä¹‰
#!openUrl = http://boxjs.com/#/app/BiliBili.Redirect
#!author = VirgilClyne[https://github.com/VirgilClyne]
#!homepage = https://Redirect.BiliUniverse.io
#!icon = https://github.com/BiliUniverse/Redirect/raw/main/src/assets/icon_rounded.png
#!tag = ğŸª BiliUniverse
#!system = iOS,iPadOS,macOS,tvOS
#!date = 2025-06-07 13:38:04
#!version = 0.2.18
#!system_version = 15

[Argument]
Host.Akamaized = select,"upos-sz-mirrorali.bilivideo.com","upos-sz-mirrorcos.bilivideo.com","upos-sz-mirrorhw.bilivideo.com","upos-sz-mirroraliov.bilivideo.com","upos-sz-mirrorcosov.bilivideo.com","upos-sz-mirrorhwov.bilivideo.com","cn-hbwh-fx-01-03.bilivideo.com",tag=[ä¸»æœºå] é‡å®šå‘ Akamaized CDN (æ¸¯æ¾³å°),desc=è¯·é€‰æ‹© Akamaized è¦é‡å®šå‘çš„ä¸»æœºåã€‚
Host.BStar = select,"upos-sz-mirrorali.bilivideo.com","upos-sz-mirrorcos.bilivideo.com","upos-sz-mirrorhw.bilivideo.com","upos-sz-mirroraliov.bilivideo.com","upos-sz-mirrorcosov.bilivideo.com","upos-sz-mirrorhwov.bilivideo.com","cn-hbwh-fx-01-03.bilivideo.com",tag=[ä¸»æœºå] é‡å®šå‘ BStar CDN (å›½é™…ç‰ˆ),desc=è¯·é€‰æ‹© BStar è¦é‡å®šå‘çš„ä¸»æœºåã€‚
Host.PCDN = select,"upos-sz-mirrorali.bilivideo.com","upos-sz-mirrorcos.bilivideo.com","upos-sz-mirrorhw.bilivideo.com","upos-sz-mirroraliov.bilivideo.com","upos-sz-mirrorcosov.bilivideo.com","upos-sz-mirrorhwov.bilivideo.com","cn-hbwh-fx-01-03.bilivideo.com",tag=[ä¸»æœºå] é‡å®šå‘ PCDN ä¸»æœºå (ä¸­å›½å¤§é™†),desc=è¯·é€‰æ‹© PCDN è¦é‡å®šå‘çš„ä¸»æœºåã€‚
Host.MCDN = select,"proxy-tf-all-ws.bilivideo.com","cn-hbwh-fx-01-03.bilivideo.com",tag=[ä¸»æœºå] é‡å®šå‘ MCDN ä¸»æœºå (ä¸­å›½å¤§é™†),desc=è¯·é€‰æ‹© MCDN è¦é‡å®šå‘çš„ä¸»æœºåã€‚
LogLevel = select,"WARN","OFF","ERROR","INFO","DEBUG","ALL",tag=[è°ƒè¯•] æ—¥å¿—ç­‰çº§,desc=é€‰æ‹©è„šæœ¬æ—¥å¿—çš„è¾“å‡ºç­‰çº§ï¼Œä½äºæ‰€é€‰ç­‰çº§çš„æ—¥å¿—å°†å…¨éƒ¨è¾“å‡ºã€‚

[General]
force-http-engine-hosts = *:4480, *:4483, *:8000, *:8082, *:9102

[Script]
http-request ^https?:\/\/.+\.bilivideo\.com\/upgcxcode\/ script-path=https://github.com/BiliUniverse/Redirect/releases/download/v0.2.18/request.bundle.js, tag=ğŸ“º BiliBili.Redirect.CDN.upgcxcode.m4s, argument=[{Host.Akamaized},{Host.BStar},{Host.PCDN},{Host.MCDN},{LogLevel}]
http-request ^https?:\/\/[adbcefxy0-9]+\.mcdn\.bilivideo\.cn(:(8000|8082))?\/v1\/resource\/ script-path=https://github.com/BiliUniverse/Redirect/releases/download/v0.2.18/request.bundle.js, tag=ğŸ“º BiliBili.Redirect.MCDN.v1.resource.m4s, argument=[{Host.Akamaized},{Host.BStar},{Host.PCDN},{Host.MCDN},{LogLevel}]
http-request ^https?:\/\/[adbcefxy0-9]+\.mcdn\.bilivideo\.cn(:(4483|9102))?\/upgcxcode\/ script-path=https://github.com/BiliUniverse/Redirect/releases/download/v0.2.18/request.bundle.js, tag=ğŸ“º BiliBili.Redirect.MCDN.upgcxcode.m4s, argument=[{Host.Akamaized},{Host.BStar},{Host.PCDN},{Host.MCDN},{LogLevel}]
http-request ^https?:\/\/(.+):4480\/upgcxcode\/ script-path=https://github.com/BiliUniverse/Redirect/releases/download/v0.2.18/request.bundle.js, tag=ğŸ“º BiliBili.Redirect.PCDN.upgcxcode.m4s, argument=[{Host.Akamaized},{Host.BStar},{Host.PCDN},{Host.MCDN},{LogLevel}]
http-request ^https?:\/\/upos-(hz|bstar1)-mirrorakam\.akamaized\.net/upgcxcode\/ script-path=https://github.com/BiliUniverse/Redirect/releases/download/v0.2.18/request.bundle.js, tag=ğŸ“º BiliBili.Redirect.Akamaized.upgcxcode.m4s, argument=[{Host.Akamaized},{Host.BStar},{Host.PCDN},{Host.MCDN},{LogLevel}]

[MITM]
hostname = *.mcdn.bilivideo.cn, upos-sz-mirror*bstar1.bilivideo.com, upos-*-mirrorakam.akamaized.net
